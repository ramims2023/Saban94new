<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>-</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 12px;
        }
        h1, label, th, td, .btn, select, input {
            font-size: 1.4em;
            font-weight: bold;
        }
        label {
            margin-right: 15px;
        }
        .form-row {
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        table {
            width: 80%;
            margin: 12px auto;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 12px;
            text-align: center;
        }
        .warehouse-1 {
            color: purple;
        }
        .warehouse-4 {
            color: green;
        }
        .btn {
            background-color: #4CAF50;
            color: white;
            padding: 10px10px;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #45a049;
        }
        .summary {
            margin-top: 20px;
            font-size: 1.8em;
            font-weight: bold;
        }
        .summary .warehouse-1 {
            color: purple;
        }
        .summary .warehouse-4 {
          
        }
    </style>
</head>
<body>
  <p>
<p>
 <p>
    <div>
        <div class="form-row">
            <label for="driver">× ×”×’:</label>
            <select id="driver">
                <option value="×¢×œ×™">×¢×œ×™</option>
                <option value="×—×›××ª">×—×›××ª</option>
                <option value="×©××•×œ">×©××•×œ</option>
                <option value="×™×•××‘">×™×•××‘</option>
                <option value="×¢×œ××">×¢×œ××</option>
            </select>
        </div>
        <div class="form-row">
            <label for="client">ğŸ‘¤×œ×§×•×—:</label>
            <input type="text" id="client" placeholder="×”×›× ×¡ ×©× ×œ×§×•×—">
        </div>
        <div class="form-row">
            <label for="warehouse">ğŸ“××—×¡×Ÿ:</label>
            <select id="warehouse">
                <option value="××—×¡×Ÿ 1">××—×¡×Ÿ 1</option>
                <option value="××—×¡×Ÿ 4">××—×¡×Ÿ 4</option>
            </select>
        </div>
        <div class="form-row">
            <label for="exit-number">×™×¦×™××”:</label>
            <select id="exit-number">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
            </select>
        </div>
        <div class="form-row">
            <label for="time">â°×©×¢×”:</label>
            <select id="time">
                <option value="06:00">06:00</option>
                <option value="07:00">07:00</option>
                <option value="08:00">08:00</option>
                <option value="09:00">09:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
                <option value="12:00">12:00</option>
                <option value="13:00">13:00</option>
                <option value="14:00">14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
                <option value="17:00">17:00</option>
            </select>
        </div>
        <div class="form-row">
            <label for="transport-type">×¡×•×’ ×”×•×‘×œ×”:</label>
            <select id="transport-type">
                <option value="×”×•×‘×œ×ª ×× ×•×£ğŸšš ">×”×•×‘×œ×ª ×× ×•×£</option>
                <option value="×”×•×‘×œ×ª ×× ×•×£ ğŸš›15">×”×•×‘×œ×ª ×× ×•×£ 15</option>
                <option value="×”×•×‘×œ×ª ××©××™×ª   ğŸš›">×”×•×‘×œ×ª ××©××™×ª </option>
                <option value="×˜× ×“×¨ğŸ“¤ ">×˜× ×“×¨</option>
                <option value="×¢×‘×•×“×ª ×× ×•×£">×¢×‘×•×“×ª ×× ×•×£</option>
            </select>
        </div>
        <button class="btn" onclick="addExit()">×”×•×¡×¤×ª ×™×¦×™××”</button>
    </div>
    <table id="summary-table">
        <thead>
            <tr>
                <th>× ×”×’</th>
                <th>×œ×§×•×—</th>
                <th>××—×¡×Ÿ</th>
                <th>×™×¦×™××”</th>
                <th>×©×¢×”</th>
                <th>×¡×•×’ ×”×•×‘×œ×”</th>
                <th>×¤×¢×•×œ×•×ª</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div class="summary" id="driver-summary"></div>
    <button class="btn" onclick="shareData()"></button>

    <script>
        let exits = [];

        function addExit() {
            const driver = document.getElementById('driver').value;
            const client = document.getElementById('client').value;
            const warehouse = document.getElementById('warehouse').value;
            const exitNumber = document.getElementById('exit-number').value;
            const time = document.getElementById('time').value;
            const transportType = document.getElementById('transport-type').value;

            const newExit = { driver, client, warehouse, exitNumber, time, transportType };
            exits.push(newExit);
            updateTable();
        }

        function deleteExit(index) {
            exits.splice(index, 1);
            updateTable();
        }

        function updateTable() {
            const tbody = document.getElementById('summary-table').querySelector('tbody');
            tbody.innerHTML = '';
            exits.forEach((exit, index) => {
                const row = `
                    <tr class="${exit.warehouse === '××—×¡×Ÿ 1' ? 'warehouse-1' : 'warehouse-4'}">
                        <td>${exit.driver}</td>
                        <td>${exit.client}</td>
                        <td>${exit.warehouse}</td>
                        <td>${exit.exitNumber}</td>
                        <td>${exit.time}</td>
                        <td>${exit.transportType}</td>
                        <td><button onclick="deleteExit(${index})">××—×§</button></td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
            updateSummary();
        }

        function updateSummary() {
            const totalExits = exits.length;
            const driversWithExits = new Set(exits.map(exit => exit.driver)).size;
            const warehouse1Exits = exits.filter(exit => exit.warehouse === '××—×¡×Ÿ 1').length;
            const warehouse4Exits = exits.filter(exit => exit.warehouse === '××—×¡×Ÿ 4').length;

            const summaryDiv = document.getElementById('driver-summary');
            summaryDiv.innerHTML = `
                <div>×¡×”"×› ×™×¦×™××•×ª: ${totalExits}</div>
                <div>×¡×”"×› × ×”×’×™× ×¢× ×™×¦×™××•×ª: ${driversWithExits}</div>
                <div class="warehouse-1">×™×¦×™××•×ª ×××—×¡×Ÿ 1: ${warehouse1Exits}</div>
                <div class="warehouse-4">×™×¦×™××•×ª ×××—×¡×Ÿ 4: ${warehouse4Exits}</div>
            `;
        }

        function shareData() {
            let data = '';
            const groupedExits = exits.reduce((acc, exit) => {
                acc[exit.driver] = acc[exit.driver] || [];
                acc[exit.driver].push(exit);
                return acc;
            }, {});

            Object.entries(groupedExits).forEach(([driver, driverExits]) => {
                data += `*${driver}*\n`;
                driverExits.forEach(exit => {
                    data += `${exit.client} ${exit.warehouse} ${exit.exitNumber} ${exit.time} ${exit.transportType}\n`;
                });
            });

            const totalExits = exits.length;
            data += `×¡×”"×› ×™×¦×™××•×ª: ${totalExits}`;

            const whatsappLink = `https://wa.me/972508860896?text=${encodeURIComponent(data)}`;
            window.open(whatsappLink, '_blank');
        }
    </script>
    <!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×¢×¨×•×ª ×œ×¡×™×“×•×¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            direction: rtl;
            text-align: center;
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border:5px solid blue
;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        .highlight-yellow {
            background-color: yellow;
            animation: blink 1s infinite;
        }
        .highlight-green {
            background-color: lightgreen;
        }
        @keyframes blink {
            20% {
                background-color: white;
            }
        }
        .btn {
            cursor: pointer;
            padding: 5px 10px;
            margin: 5px;
        }
        .delete-btn {
            font-weight: bold;
            text-decoration: underline;
            border: 1px solid black;
            background-color: #f2f2f2;
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
        }
        textarea {
            width: 100%;
            height: 70px;
            padding: 10px;
            margin-top: 10px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <h1>×”×•×¡×¤×ª ×”×¢×¨×” ×œ×¡×™×“×•×¨</h1>
    <textarea id="noteInput" placeholder="×”×§×œ×“ ××ª ×”×”×¢×¨×” ×›××Ÿ..."></textarea>
    <br>
    <label for="noteUpdater">×‘×—×¨ ××ª ×”××“× ×©××¢×“×›×Ÿ:</label>
    <select id="noteUpdater">
        <option value="×¨×××™">×¨×××™</option>
      <option value="×ª××™×¨">×ª××™×¨</option>
      <option value="× ×ª× ××œ">× ×ª× ××œ</option>
      <option value="×”×¨××œ">×”×¨××œ</option>
      <option value="××•×¨×Ÿ">××•×¨×Ÿ</option>
      <option value="×™×•××‘">×™×•××‘</option>
    </select>
    <button class="btn" onclick="addNote()">×¢×“×›×Ÿ ×”×¢×¨×”</button>
    <table>
        <thead>
            <tr>
                <th>×”×¢×¨×”</th>
                <th>×˜×™×¤×•×œ</th>
                <th>×©×¢×”</th>
                <th>×¢×•×“×›×Ÿ ×¢×œ ×™×“×™</th>
                <th>×¤×¢×•×œ×•×ª</th>
            </tr>
        </thead>
        <tbody id="notesTableBody">
            <!-- ×©×•×¨×•×ª ×™×ª×•×•×¡×¤×• ×›××Ÿ -->
        </tbody>
    </table>
    <script>
        function addNote() {
            const noteInput = document.getElementById("noteInput").value;
            const noteUpdater = document.getElementById("noteUpdater").value;
            const currentTime = new Date().toLocaleTimeString();
            if (!noteInput) {
                alert("×× × ×”×§×œ×“ ×”×¢×¨×”.");
                return;
            }

            const tableBody = document.getElementById("notesTableBody");

            const row = document.createElement("tr");

            // Add note
            const noteCell = document.createElement("td");
            noteCell.textContent = noteInput;
            row.appendChild(noteCell);

            // Add status dropdown
            const statusCell = document.createElement("td");
            const statusSelect = document.createElement("select");
            statusSelect.innerHTML = `
                <option value="×‘×˜×™×¤×•×œ" class="highlight-yellow">×‘×˜×™×¤×•×œ</option>
                <option value="×˜×•×¤×œ×”" class="highlight-green">×˜×•×¤×œ×”</option>
            `;
            statusSelect.addEventListener("change", function () {
                if (statusSelect.value === "×‘×˜×™×¤×•×œ") {
                    row.classList.add("highlight-yellow");
                    row.classList.remove("highlight-green");
                } else {
                    row.classList.add("highlight-green");
                    row.classList.remove("highlight-yellow");
                }
            });
            statusCell.appendChild(statusSelect);
            row.appendChild(statusCell);

            // Add time
            const timeCell = document.createElement("td");
            timeCell.textContent = currentTime;
            row.appendChild(timeCell);

            // Add updater
            const updaterCell = document.createElement("td");
            updaterCell.textContent = noteUpdater;
            row.appendChild(updaterCell);

            // Add delete button
            const actionsCell = document.createElement("td");
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "××—×§";
            deleteButton.className = "delete-btn";
            deleteButton.onclick = () => row.remove();
            actionsCell.appendChild(deleteButton);
            row.appendChild(actionsCell);

            tableBody.appendChild(row);

            // Clear input
            document.getElementById("noteInput").value = "";
        }
    </script>
</body>
</html>

</body>
</html>
